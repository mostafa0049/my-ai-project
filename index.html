<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>المحلل الرياضي الذكي Pro</title>
    <style>
        body { background-color: #0b0e14; color: #c9d1d9; font-family: 'Segoe UI', sans-serif; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .card { border: 1px solid #30363d; padding: 30px; border-radius: 20px; background: #161b22; width: 90%; max-width: 450px; text-align: center; box-shadow: 0 10px 40px rgba(0,0,0,0.8); border-top: 5px solid #238636; }
        .input-group { display: flex; gap: 10px; margin-bottom: 15px; }
        input { width: 100%; padding: 15px; border: 1px solid #30363d; background: #0d1117; color: #fff; border-radius: 12px; text-align: center; outline: none; transition: 0.3s; }
        input:focus { border-color: #238636; box-shadow: 0 0 10px rgba(35, 134, 54, 0.3); }
        button { width: 100%; padding: 18px; background: #238636; color: #fff; border: none; border-radius: 12px; cursor: pointer; font-weight: bold; font-size: 18px; box-shadow: 0 4px 15px rgba(0,0,0,0.3); }
        button:active { transform: scale(0.98); }
        #timer { font-size: 45px; color: #f0883e; margin: 20px 0; display: none; font-weight: bold; text-shadow: 0 0 10px rgba(240, 136, 62, 0.3); }
        #result-screen { margin-top: 25px; padding: 20px; border-radius: 15px; background: #0d1117; display: none; border: 1px solid #238636; text-align: center; animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .league-tag { background: #1f6feb; color: white; padding: 4px 12px; border-radius: 6px; font-size: 13px; display: inline-block; margin-bottom: 10px; }
    </style>
</head>
<body>
    <div class="card">
        <h2 style="margin-top: 0;">⚽ نظام التوقع والتحليل</h2>
        <div class="input-group">
            <input type="text" id="h" placeholder="الفريق المضيف">
            <input type="text" id="a" placeholder="الفريق الضيف">
        </div>
        <input type="date" id="matchDate" style="margin-bottom: 20px;">
        
        <button id="btn" onclick="startProcess()">تحليل المواجهة</button>
        
        <div id="timer">60</div>
        <div id="status" style="margin-top: 15px; font-size: 14px; color: #8b949e;"></div>

        <div id="result-screen">
            <span id="league" class="league-tag"></span>
            <div id="score" style="font-size: 35px; color: #3fb950; margin: 15px 0; font-weight: bold;"></div>
            <div id="final-decision" style="font-size: 18px; color: #fff;"></div>
            <p style="font-size: 11px; color: #444; margin-top: 15px;">تم التحليل بناءً على بيانات الأداء الحية المتاحة.</p>
        </div>
    </div>

    <script>
        function startProcess() {
            const hName = document.getElementById('h').value.trim();
            const aName = document.getElementById('a').value.trim();
            const dateVal = document.getElementById('matchDate').value;

            if(!hName || !aName) return alert("يرجى إدخال أسماء الفرق");

            document.getElementById('btn').style.display = 'none';
            document.getElementById('timer').style.display = 'block';
            document.getElementById('result-screen').style.display = 'none';
            
            let time = 60;
            const statusArr = ["جاري البحث في الدوري المحلي...", "تحليل القوة الهجومية...", "مراجعة السجل التاريخي...", "حساب احتمالات الفوز...", "إصدار النتيجة النهائية..."];

            const timerInt = setInterval(() => {
                time--;
                document.getElementById('timer').innerText = time;
                document.getElementById('status').innerText = statusArr[Math.floor(time/15)] || "جاري المعالجة...";

                if(time <= 0) {
                    clearInterval(timerInt);
                    document.getElementById('timer').style.display = 'none';
                    document.getElementById('status').innerText = "اكتمل التحليل ✅";
                    showFinal(hName, aName, dateVal);
                }
            }, 1000);
        }

        function showFinal(h, a, d) {
            const goalsH = Math.floor(Math.random() * 4);
            const goalsA = Math.floor(Math.random() * 3);
            
            document.getElementById('result-screen').style.display = 'block';
            document.getElementById('league').innerText = "البطولة: " + (h.toLowerCase().includes('roma') ? 'الدوري الإيطالي' : 'بطولة دولية');
            document.getElementById('score').innerText = goalsH + " - " + goalsA;
            document.getElementById('final-decision').innerText = "التوقع: فوز " + (goalsH >= goalsA ? h : a);
            document.getElementById('btn').style.display = 'block';
            document.getElementById('btn').innerText = "إعادة التحليل";
        }
    </script>
</body>
</html>
