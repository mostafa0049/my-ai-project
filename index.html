<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Football Predictor</title>
    <style>
        body { background-color: #000; color: #00ff41; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .container { border: 2px solid #00ff41; padding: 30px; border-radius: 15px; box-shadow: 0 0 20px #00ff41; width: 90%; max-width: 400px; text-align: center; }
        h1 { font-size: 22px; margin-bottom: 20px; text-shadow: 0 0 10px #00ff41; }
        input { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #00ff41; background: #111; color: #fff; border-radius: 5px; box-sizing: border-box; }
        button { width: 100%; padding: 15px; background: #008000; color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; font-size: 16px; margin-top: 10px; }
        button:hover { background: #00ff41; color: #000; }
        #result { margin-top: 20px; padding: 15px; border-top: 1px solid #333; font-weight: bold; line-height: 1.6; }
        .status { font-size: 12px; color: #888; margin-top: 10px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>âš½ Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙˆÙ‚Ø¹ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠ Ø§Ù„Ø°ÙƒÙŠ</h1>
        <input type="text" id="homeTeam" placeholder="Ø§Ø³Ù… Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ù…Ø¶ÙŠÙ (Ù…Ø«Ù„Ø§Ù‹: Arsenal)">
        <input type="text" id="awayTeam" placeholder="Ø§Ø³Ù… Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø¶ÙŠÙ (Ù…Ø«Ù„Ø§Ù‹: Liverpool)">
        <button onclick="predictMatch()">ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø©</button>
        <div id="result">Ø£Ø¯Ø®Ù„ Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„ÙØ±Ù‚ Ø¨Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© ÙˆØ§Ø¶ØºØ· ØªØ­Ù„ÙŠÙ„</div>
        <div class="status" id="dbStatus">Ø¬Ø§Ø±ÙŠ ÙØ­Øµ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...</div>
    </div>

    <script>
        let matchData = [];
        // Ø§Ù„Ø±Ø¨Ø· Ø§Ù„Ù…Ø¨Ø§Ø´Ø± Ø¨Ø§Ù„Ù…Ø®Ø²Ù† Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ
        const dbUrl = 'https://raw.githubusercontent.com/mostafa0049/my-ai-project/main/updated_matches.csv';

        async function loadData() {
            try {
                const response = await fetch(dbUrl);
                const data = await response.text();
                const rows = data.split('\n').slice(1);
                matchData = rows.map(row => {
                    const cols = row.split(',');
                    return { home: cols[0], away: cols[1], result: cols[4] };
                });
                document.getElementById('dbStatus').innerText = "âœ… Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…ØªØµÙ„Ø© ÙˆØ¬Ø§Ù‡Ø²Ø©";
            } catch (e) {
                document.getElementById('dbStatus').innerText = "âŒ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª";
            }
        }

        function predictMatch() {
            const home = document.getElementById('homeTeam').value.trim();
            const away = document.getElementById('awayTeam').value.trim();
            
            if (!home || !away) {
                alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„ÙØ±Ù‚");
                return;
            }

            // ØªØµÙÙŠØ© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© Ù„Ù„ÙØ±ÙŠÙ‚ÙŠÙ†
            const history = matchData.filter(m => 
                (m.home === home && m.away === away) || 
                (m.home === away && m.away === home)
            );

            if (history.length === 0) {
                document.getElementById('result').innerHTML = "âš ï¸ Ù„Ù… Ù†Ø¬Ø¯ Ù…ÙˆØ§Ø¬Ù‡Ø§Øª Ø³Ø§Ø¨Ù‚Ø© Ù„Ù‡Ù…Ø§.<br>ØªÙˆÙ‚Ø¹ Ø§Ù„Ø°ÙƒØ§Ø¡: ØªØ¹Ø§Ø¯Ù„ ØªÙ‚Ù†ÙŠ Ø£Ùˆ ÙÙˆØ² Ø§Ù„Ù…Ø¶ÙŠÙ Ø¨Ù†Ø³Ø¨Ø© Ø¶Ø¦ÙŠÙ„Ø©.";
            } else {
                let homeWins = history.filter(m => (m.home === home && m.result === 'H') || (m.away === home && m.result === 'A')).length;
                let percent = Math.round((homeWins / history.length) * 100);
                document.getElementById('result').innerHTML = `ğŸ“Š ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø°ÙƒØ§Ø¡:<br>Ù‚ÙˆØ© ${home} ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù…ÙˆØ§Ø¬Ù‡Ø© Ù‡ÙŠ ${percent}%<br>Ø§Ù„ØªÙˆÙ‚Ø¹: ${percent > 50 ? 'ÙÙˆØ² ' + home : 'Ù…Ø¨Ø§Ø±Ø§Ø© ØµØ¹Ø¨Ø©/ØªØ¹Ø§Ø¯Ù„'}`;
            }
        }

        loadData();
    </script>
</body>
</html>
